<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/google-map/google-map.html">
<link rel="import" href="../bower_components/geo-location/geo-location.html">
<link rel="import" href="../bower_components/iron-meta/iron-meta.html">
<link rel="import" href="my-list.html">

<dom-module id="my-map">
  <style>
  google-map{
    display: block;
    height: 100%;
    width: 100%;
  }
  </style>
  <template>
    <geo-location watch-pos latitude="{{ latitude }}" longitude="{{ longitude }}"></geo-location>
    <google-map id="venueMap" latitude="[[latitude]]" longitude="[[longitude]]" zoom="13" api-key="AIzaSyCZ52mvUoJplSOmOFE2KW0u5v6jny870IM">
      <google-map-marker latitude="[[latitude]]" longitude="[[longitude]]" draggable="false"></google-map-marker>
    </google-map>
    <template>
      <my-list dataCollection={{dataCollection}}></my-list>
      <div>
              <div>Books:</div>
              <ul>
              <template is="dom-repeat" items="{{dataCollection}}">
                  <li>{{item.location.lat}}</li>
                  <google-map-marker latitude="{{item.location.lat}}" longitude="{{item.location.lng}}"></google-map-marker>
              </template>
              </ul>
          </div>
    </template>
  </template>

  <script>
    Polymer({
      is: 'my-map',

      properties: {
        dataCollection: {
          type: Array
        }
      }
    });
  </script>
</dom-module>
